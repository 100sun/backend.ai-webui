server {
  listen 443 ssl;
  server_name [YOUR SITE URL HERE];
  index index.html;
  charset utf-8;

  client_max_body_size 0;

  add_header Strict-Transport-Security "max-age=31536000; includeSubdomains";
  root /home/devops/backend.ai/console;

  location / {
    try_files $uri /index.html;
    #alias /home/ubuntu/backend.ai-console/deploy/;
  }

  location ~* \.(?: manifest|appcache|html?|xml|json)$ {
    expires -1;
  }

  location ~* \.(?: jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc|woff|woff2)$ {
    expires 1M;
    access_log off;
    add_header Cache-Control "public";
  }

  location ~* \.(?: css|js)$ {
    access_log off;
    add_header Cache-Control "max-age=43200, public, must-revalidate, proxy-revalidate";
  }

  keepalive_timeout 120;

  error_page 500 502 503 504 /50x.json;
  location = /50x.json {
  }

  ssl_certificate [YOUR FULL CHAIN PEM FILE PATH HERE];
  ssl_certificate_key [YOUR PRIV KEY PEM FILE PATH HERE;
}
